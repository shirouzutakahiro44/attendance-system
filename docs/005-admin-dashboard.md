# 005: 管理画面・ダッシュボード

## 概要
管理者向けのリアルタイムダッシュボードと管理機能を実装する

## 優先度
**High** - 管理者の業務効率化に必須

## 見積工数
32時間（4人日）

## 機能要件

### 1. リアルタイムダッシュボード
- [ ] 現在の出勤状況表示
  - [ ] 部署別出勤率
  - [ ] 工場別出勤状況
  - [ ] 遅刻者リスト
  - [ ] 早退者リスト
  - [ ] 欠勤者リスト
- [ ] 自動更新（30秒ごと）
- [ ] アラート表示

### 2. 勤怠サマリー
- [ ] 本日の勤怠統計
- [ ] 週間勤怠統計
- [ ] 月間勤怠統計
- [ ] 部署別集計
- [ ] 残業時間ランキング
- [ ] 有給取得率

### 3. アラート管理
- [ ] 36協定上限接近者
- [ ] 長時間労働者
- [ ] 連続勤務者
- [ ] 有給未消化者
- [ ] 健康診断未受診者
- [ ] 資格有効期限切れ

### 4. 承認管理
- [ ] 承認待ち件数表示
- [ ] 承認待ち一覧
- [ ] 一括承認機能
- [ ] 承認履歴
- [ ] エスカレーション管理

### 5. 月次処理
- [ ] 月次締め処理
- [ ] 締め状態管理
- [ ] 再計算機能
- [ ] 確定処理
- [ ] ロック/アンロック

### 6. マスタ管理
- [ ] 祝日カレンダー管理
- [ ] 会社カレンダー管理
- [ ] 労働時間設定
- [ ] 割増率設定
- [ ] アラート閾値設定

## 技術仕様

### データベーステーブル
- dashboard_settings
- alert_settings
- monthly_closing
- holiday_calendar
- company_settings

### API エンドポイント
```
GET    /api/dashboard/realtime
GET    /api/dashboard/summary
GET    /api/dashboard/alerts
GET    /api/admin/approvals/pending
POST   /api/admin/approvals/bulk
GET    /api/admin/monthly-closing
POST   /api/admin/monthly-closing/execute
GET    /api/admin/settings
PUT    /api/admin/settings
```

### フロントエンド画面
- /admin/dashboard - メインダッシュボード
- /admin/approvals - 承認管理
- /admin/alerts - アラート一覧
- /admin/monthly - 月次処理
- /admin/settings - システム設定

### WebSocket
- リアルタイム出勤状況
- アラート通知
- 承認リクエスト通知

## 依存関係
- 001: 認証・ユーザー管理機能
- 002: 打刻機能
- 003: 勤怠管理機能

## テスト項目
- [ ] リアルタイム更新
- [ ] 集計値の正確性
- [ ] アラート発生条件
- [ ] 月次締め処理
- [ ] 同時アクセス処理
- [ ] 大量データ表示

## 完了条件
- [ ] ダッシュボードが表示される
- [ ] リアルタイム更新が動作する
- [ ] アラートが適切に表示される
- [ ] 月次処理が実行できる
- [ ] レスポンスタイム2秒以内

## 備考
- 大画面モニターでの表示も考慮
- モバイル対応も必要
- 将来的には予測分析機能も追加