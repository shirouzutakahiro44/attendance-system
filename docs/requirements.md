# 製造業向け勤怠管理システム 要件定義書

## 1. システム概要

### 1.1 目的
製造業の現場に特化した勤怠管理システムを構築し、労働時間の適正管理、法令遵守、給与計算の効率化を実現する。

### 1.2 対象ユーザー
- 一般従業員（製造現場作業者）
- 管理者（班長、係長、課長等）
- システム管理者（人事部門）

## 2. 機能要件

### 2.1 認証・打刻機能

#### 2.1.1 打刻方法
- **NFCカード打刻**: 各工場入口に設置されたリーダーでタッチ
- **Web打刻**: PC/スマホからログイン後に打刻
- **打刻種別**: 出勤、退勤、休憩開始、休憩終了、一時外出、戻り

#### 2.1.2 打刻場所
- 第一工場
- 第二工場
- 第三工場
- プレス工場
- 溶接工場
- 間接部門（事務所）

### 2.2 ユーザー画面機能

#### 2.2.1 基本機能
- **日次勤怠表示**: 当日の出退勤時刻、労働時間表示
- **月次カレンダー表示**: 月単位での勤怠状況確認
- **勤怠修正申請**: 打刻忘れ、時刻修正の申請
- **残業申請**: 事前/事後の残業申請
- **有給申請**: 有給休暇の申請

#### 2.2.2 表示情報
- 本日の勤務状況
- 月間労働時間累計
- 残業時間（月累計、年累計）
- 有給残日数
- シフト表

### 2.3 管理画面機能

#### 2.3.1 ダッシュボード
- **リアルタイム出勤状況**: 部署別、工場別の出勤状況
- **アラート表示**:
  - 遅刻者リスト
  - 早退者リスト
  - 欠勤者リスト
  - 36協定上限接近者
  - 長時間労働者

#### 2.3.2 勤怠管理
- **勤怠承認**: 修正申請、残業申請の承認
- **シフト管理**: シフトパターン登録、割当
- **休暇管理**: 有給付与、取得状況管理

#### 2.3.3 労働時間管理
- **法定労働時間管理**:
  - 1日8時間、週40時間の管理
  - 36協定上限管理（月45時間、年360時間）
  - 特別条項管理（年720時間、複数月平均80時間、単月100時間未満）
  
- **割増賃金計算**:
  - 通常残業: 25%増
  - 月60時間超残業: 50%増
  - 深夜労働（22:00-5:00）: 25%増
  - 深夜残業: 50%増（残業25% + 深夜25%）
  - 休日労働: 35%増

#### 2.3.4 休憩管理
- **法定休憩**:
  - 6時間超: 45分以上
  - 8時間超: 1時間以上
- **深夜勤務休憩**: 深夜帯の追加休憩管理

### 2.4 人員配置管理

#### 2.4.1 ライン別人員状況
- 各製造ラインの配置人数表示
- 必要人員数との過不足表示
- スキルマトリックス表示

#### 2.4.2 技能資格管理
- 資格種別管理（フォークリフト、クレーン、溶接等）
- 資格有効期限管理
- 更新アラート

### 2.5 安全衛生管理

#### 2.5.1 労働時間による疲労度管理
- 連続勤務日数チェック
- 月間残業時間による健康リスク判定
- 産業医面談対象者の抽出

#### 2.5.2 健康管理
- 健康診断受診状況管理
- ストレスチェック実施管理

### 2.6 帳票・レポート機能

#### 2.6.1 出力帳票
- **労基署提出用**:
  - 時間外労働・休日労働に関する協定届
  - 賃金台帳
  - 労働者名簿
  
- **社内管理用**:
  - 月次勤怠集計表
  - 部署別労働時間レポート
  - 残業時間ランキング
  - 有給取得率レポート

#### 2.6.2 データエクスポート
- CSV形式での勤怠データ出力
- 給与計算システム連携用フォーマット
- Excel形式でのレポート出力

## 3. 非機能要件

### 3.1 性能要件
- 同時接続数: 1000ユーザー
- レスポンス時間: 3秒以内
- 稼働率: 99.5%以上

### 3.2 セキュリティ要件
- SSL/TLS通信
- パスワードポリシー適用
- アクセスログ記録
- 個人情報保護対応

### 3.3 運用要件
- 24時間365日稼働（メンテナンス時除く）
- 自動バックアップ（日次）
- データ保存期間: 3年以上

## 4. システム構成

### 4.1 技術スタック（予定）
- **フロントエンド**: Next.js, TypeScript, React
- **バックエンド**: Node.js, Express/Fastify
- **データベース**: PostgreSQL
- **認証**: JWT, OAuth2.0
- **NFC連携**: Web NFC API または専用ミドルウェア

### 4.2 インフラ構成
- クラウド環境（AWS/Azure/GCP）
- オンプレミスとのハイブリッド構成も検討

## 5. 開発フェーズ

### Phase 1: MVP（最小構成）
1. 基本的な打刻機能
2. 勤怠表示・修正
3. 管理者承認機能
4. 基本的なレポート

### Phase 2: 拡張機能
1. NFC連携
2. シフト管理
3. 詳細な労働時間管理
4. 各種アラート機能

### Phase 3: 高度な機能
1. 人員配置最適化
2. 技能資格管理
3. 安全衛生管理
4. 外部システム連携

## 6. 今後の検討事項

- シフトパターンの詳細設計
- 既存システムとの連携仕様
- NFCリーダーの具体的な機種選定
- バックアップ打刻方法の詳細
- 多言語対応の必要性