# ゲーミフィケーション要件定義

## システム構成

### 002: 打刻アプリ
- **機能**: 出勤・退勤の打刻機能
- **役割**: 打刻データを生成し、003へ送信する

### 003: 打刻マネジメントシステム（本システム）
- **機能**: 勤怠データの管理、ゲーミフィケーションのロジック実行、パーソナル情報（プロフィール）の管理
- **役割**: 本プロジェクトの中心となるシステム

### 004: シフト管理システム
- **機能**: 従業員のシフトスケジュールの管理
- **役割**: 003にシフトデータを提供し、打刻の正確性判定の基準とする

## 003 打刻マネジメントシステム要件

### 1. パーソナル情報管理機能

#### アカウントプロフィール設定
- ユーザーが任意のプロフィール写真やアバター画像をアップロード/設定できる機能
- 獲得した「称号」や「バッジ」を設定・表示できる機能
- レベルシステムの可視化（例：卵→ひよこ→鶏）

#### 月次勤怠ビュー
- 月次の勤怠表ページを設ける
- 勤怠表の上部など目立つ位置に以下を表示：
  - 設定したアイコン（顔写真/アバター）
  - 現在のレベル
  - 保有ポイント
  - 獲得した☆の数

### 2. ゲーミフィケーション基本ロジック

#### ポイント付与ルール
| 打刻タイミング | 付与ポイント |
|-------------|----------|
| シフト開始時刻の10分前〜6分前に出勤打刻 | +1 Pt |
| シフト開始時刻の5分前〜定時に出勤打刻 | +2 Pt |
| シフト開始時刻を過ぎて出勤打刻 | -1 Pt |

#### ポイントの可視化
- 従業員のアイコンに、獲得ポイントに応じて☆マークが蓄積されていくUI
- ポイントが一定数に達すると、アイコンがレベルアップ

### 3. 公平性の担保と追加ボーナス

#### 評価指標の多様化
1. **総合獲得ポイント**: 期間内の単純なポイント合計値
2. **打刻正確率**: (期間内のプラスポイント獲得日数 ÷ 期間内の総出勤日数) × 100
   - この率に基づいてボーナスポイントを付与
   - 出勤日数が少ない従業員も評価対象となる

#### ランキング機能
- 「総合獲得ポイント」ランキング
- 「打刻正確率」ランキング
- 両方のランキングを表示し、多様な評価軸を提供

#### クエスト・ミッション機能
1. **連続ボーナス**
   - 「プラスポイント獲得が連続5日」など、出勤日ベースではない条件

2. **パーソナルクエスト**
   - 004のシフト情報と連携
   - 例：「今週のあなたのシフト（X日間）全てで、5分前出勤を達成しよう！」
   - 個人最適化された目標を自動生成

#### 報酬システム
ポイントが貯まると達成感のある報酬と交換：
- ギフトカード
- 特別休暇
- ユニークな称号
- その他インセンティブ

## API連携要件

### 004 → 003: シフト情報連携
```json
{
  "employee_id": "EMP001",
  "shifts": [
    {
      "date": "2024-01-15",
      "start_time": "09:00",
      "end_time": "18:00",
      "break_duration": 60
    }
  ]
}
```

### 002 → 003: 打刻情報連携
```json
{
  "employee_id": "EMP001",
  "timestamp": "2024-01-15T08:55:00Z",
  "type": "clock_in",
  "location": "factory_1"
}
```

### 003の処理フロー
1. 002から打刻情報を受信
2. 004のシフト情報と照合
3. ポイント計算を実行
4. ユーザープロファイルを更新
5. ランキングを更新
6. クエスト進捗を確認・更新

## 実装優先度

### Phase 1: 基本機能
1. プロファイル管理機能
2. 基本ポイント計算ロジック
3. シフト情報との連携

### Phase 2: ゲーミフィケーション
1. レベルシステム
2. バッジ・称号システム
3. ランキング機能

### Phase 3: エンゲージメント強化
1. クエスト・ミッション機能
2. 報酬システム
3. ソーシャル機能（任意）

## UI/UXデザイン方針

### ビジュアルデザイン
- 明るく親しみやすいデザイン
- ゲーム要素を取り入れた楽しいUI
- 進捗や達成感を視覚的に表現

### ユーザビリティ
- 直感的な操作性
- モバイルファースト
- リアルタイムフィードバック

### アクセシビリティ
- 色覚多様性への配慮
- スクリーンリーダー対応
- 多言語対応（日本語・英語）